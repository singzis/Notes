常见渲染模式：

1. [客户端渲染](#CSR)（Client-side rendering, CSR）：在客户端完成页面的渲染。
2. [服务端渲染](#SSR)（Server-side rendering, SSR）：在服务器端完成页面的渲染，再将完整的 HTML 页面发送到客户端。
3. [静态站点生成](#SSG)（Static Site Generation, SSG）：将静态内容生成为 HTML 页面，不需要在服务器端实时处理请求。
4. [增量式服务端渲染](#ISR)（Incremental Server-side Rendering, ISR）：通过在服务器端渲染初始内容，再由客户端完成后续渲染，从而获得服务端渲染的优点和客户端渲染的优点。
5. 分布式持续渲染（Distributed Persistent Rendering, DPR）

## CSR

在客户端执行渲染任务

特点：

1. 动态更新效率高：客户端的 js 可以直接更新页面，可以实现即时的用户交互，体验好
2. 服务器负载小：服务器仅需要提供静态资源和 api 数据，不需要执行渲染任务

缺点：

1. 首屏加载时间长：服务器返回的是空壳 html，以 react 项目为例，则返回的是`<div id="root" />`，需要加载完 js 后，通过相关 api 获取数据填充页面进行渲染，另外，js 和一些静态资源过大也会导致首屏加载时间过长
2. SEO 差，首屏就一个 div，搜索引擎无法检索有效信息

针对 CSR 白屏问题的一些解决方案：

1. 预渲染：loading 和骨架屏减少白屏
2. 代码拆分：只加载需要的资源
3. 懒加载：延迟加载首屏不想要的资源
4. 页面资源优化：图片啊、视频啊等等，可以适当压缩

## SSR

渲染过程在服务端完成，当用户请求一个页面时，服务器会生成具有完整内容的 HTML，然后返回给客户端，客户端直接渲染返回的 HTML

特点：

1. 利好 SEO：因为是返回带有完整内容的 HTML，可以使搜索引擎爬虫更容易读取页面内容，提高网站的搜索引擎排名
2. 更快的首屏加载速度：HTML 在服务器端生成，填充数据，只要网络宽带够，客户端就直接渲染页面即可，无需再通过 js 获取数据填充

缺点：

1. 更高的服务器压力：服务器端渲染需要计算完整的 HTML 页面，这会增加服务器端的计算负担
2. 技术复杂性：需要熟悉服务端技术，通过 nodejs 实现（现代前端 SSR，比如 next.js，通过 node 从后端获取数据，再生成 html）

[服务端渲染(SSR)](https://zhuanlan.zhihu.com/p/90746589)

### 流式 SSR

流式 SSR（Streaming Server-side Rendering）是一种特殊的服务端渲染方式，它不是一次性将整个页面的 HTML 内容发送给客户端，而是通过将页面的内容分块，分批次发送给客户端，从而提高页面的加载速度和用户体验。

在流式 SSR 的过程中，服务器会先发送页面的 HTML 结构，然后再按需发送数据和样式，直到页面加载完成。由于流式 SSR 可以同时处理请求和响应，因此可以提高页面的加载速度。

总的来说，流式 SSR 在保证服务端渲染的优点的同时，又可以兼顾客户端渲染的优点，是一种很好的前端渲染方式。

## SSG

一种静态网站生成技术，提前生成静态前端页面-HTML、CSS 和 Javascript，部署到服务器上，不需要服务器对前端页面进行渲染，直接通过 web 服务器直接提供给用户，使浏览器渲染。数据变化时，再重新出发一次异步渲染，推送到 CDN。

特点：

1. 网站静态化，减少服务器资源请求，显著提高网站加载速度
2. 安全性更高，不存在服务端动态代码执行的风险
3. 易于部署和维护，无需关心服务端的架构和环境设置
4. 利好 SEO，因为生成的静态 HTML 容易被搜索引擎爬取和检索

缺点：

1. 动态数据的支持较弱，所有数据都在预生成静态文件时获得
2. 程序状态管理困难，没有服务端状态维持
3. 生成的文件可能较大，导致存储和宽带资源浪费
4. 页面较多时，比如百万级千万级页面，每次更改一小点内容都需要全站重新渲染，需要的时间会十分长

## ISR

结合 SSG 和 SSR 的优点，针对关键性页面（比如首页），预渲染为静态页面，缓存至 CDN，保证最佳访问性能，对于不那么关键的页面可以先响应 flaaback 内容，然后采用 CSR 渲染

特点：

1. 提高首次加载速度：因为初次加载使用服务端渲染，可以快速地渲染出首页内容，提高用户体验
2. 减少服务器压力：对于导航页面，ISR 使用客户端渲染，减少了服务器的压力
3. 提高搜索引擎友好性：首次加载使用服务端渲染，可以保证搜索引擎能够正确索引页面内容

缺点：

1. 开发复杂性：ISR 实现复杂，需要兼顾 SSR 和 CSR 渲染的特点
2. 更加复杂的缓存策略：ISR 需要引入更加复杂的缓存策略，以支持动态内容的实时更新
3. 对于没有提前渲染的页面，首次访问时会看到一个 fallback 页面，直到渲染完毕才看到完整页面，体验较差
4. 对于已经访问过的页面，即时存到了 CDN，但有可能数据是过期的，需要刷新访问才会变成新的
